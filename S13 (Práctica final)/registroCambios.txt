Registro de cambios - Proyecto EmojiCipher
Fecha: 10/12/2025
Autor de los cambios: Asistente (ediciones solicitadas Lucas Meirelles Thompson)

Resumen general:
Se han realizado modificaciones en los tres minijuegos y se a√±adi√≥ una funci√≥n auxiliar para cifrar parcialmente di√°logos. Los cambios est√°n escritos para ser claros y pedag√≥gicos, pensados para que un alumno que comienza en Python los entienda.


Secciones / funciones modificadas (lista exacta):
1) jugar_frase_emoji
2) jugar_pelicula_emoji
3) jugar_identifica_emoji
4) cifrar_parcial_dialogo (nueva funci√≥n)
5) Ajustes menores: pedir_respuesta (sin cambios funcionales), interfaz principal (sin cambios funcionales relevantes)

Detalles por secci√≥n (qu√© cambi√© y c√≥mo):

1) jugar_frase_emoji
- Qu√© hab√≠a antes: versi√≥n modal b√°sica que mostraba emojis y ped√≠a la respuesta con 2 intentos.
- Cambios aplicados:
  - Aument√© el n√∫mero de intentos a 3 (variable `vidas = 3`).
  - Ventana nueva m√°s grande (`700x420`) y centrada respecto a la ventana principal (se calculan coordenadas y hay fallback a pantalla).
  - Emoji mostrado con tama√±o grande usando la fuente `Segoe UI Emoji`, tama√±o `56`.
  - Los intentos ahora se representan gr√°ficamente con corazones (etiquetas `Label` con "‚ù§Ô∏è" y "ü§ç").
  - A√±ad√≠ una etiqueta `pista_label` con fondo y texto coloreados; la pista se muestra en verde suave (`#D1FAE5` / `#065F46`) cuando queda 1 vida.
  - La entrada y el bot√≥n "Enviar" se hicieron m√°s grandes y legibles (fuentes y ancho).
  - Comentarios en el c√≥digo para que la l√≥gica sea f√°cil de seguir por un estudiante.

- Comportamiento final:
  - El usuario tiene 3 intentos; al fallar se resta una vida y un coraz√≥n se pone vac√≠o.
  - Al quedar 1 vida aparece la pista coloreada y un peque√±o aviso.
  - Al acertar se muestra un `messagebox` de √©xito; al agotar vidas se muestra la respuesta correcta.

2) jugar_pelicula_emoji
- Qu√© hab√≠a antes: versi√≥n similar a la frase, con 2 intentos y mensaje emergente para mostrar la clave.
- Cambios aplicados:
  - Aument√© los intentos a 3 y represent√© los intentos con corazones (igual que en `jugar_frase_emoji`).
  - Ventana m√°s grande (`720x520`) y centrada.
  - Emoji mostrado en fuente grande (`Segoe UI Emoji`, 56).
  - A√±ad√≠ la l√≥gica para mostrar un di√°logo famoso de la pel√≠cula debajo del emoji. El di√°logo se cifra parcialmente (ver `cifrar_parcial_dialogo`).
  - Mov√≠ la visualizaci√≥n de la clave desde un `messagebox` emergente a un `ScrolledText` dentro de la misma ventana (columna derecha). Esto permite consultar la clave sin cerrar la ventana.
  - Reorganic√© la ventana en dos columnas: columna izquierda con emoji, di√°logo parcial, vidas y entrada; columna derecha con la `ScrolledText` que contiene `formato_clave_legible(clave_actual)`.
  - La pista legible (cuando quede 1 vida) se muestra en una `Label` con colores (azul claro / azul oscuro) para destacar.
  - Si no existe `clave_actual`, el `ScrolledText` muestra un mensaje indic√°ndolo.

- Nuevas estructuras a√±adidas:
  - `dialogos` (diccionario local con frases c√©lebres para cada pel√≠cula listada).
  - Uso de `codificar(...)` sobre el di√°logo solo si existe `clave_actual`, y adem√°s usamos `cifrar_parcial_dialogo` para mostrar parte en claro y parte cifrada.

- Comportamiento final:
  - El usuario ve el emoji y una l√≠nea con el di√°logo parcialmente cifrado.
  - La clave est√° visible en la ventana (panel derecho) en formato legible y con scrollbar.
  - 3 intentos con corazones; al quedar 1 vida aparece la pista coloreada; al agotar vidas se revela la pel√≠cula.

3) jugar_identifica_emoji
- Qu√© hab√≠a antes: un mini-juego estilo "ahorcado" con letra por letra y 2 intentos; ventana peque√±a.
- Cambios aplicados:
  - Reescrib√≠ la funci√≥n para que sea coherente con los otros minijuegos: ventana m√°s grande (`520x420`) y centrada; emoji mostrado en grande (fuente 64).
  - Elimin√© las "vidas" (solicitud posterior del usuario): el juego ya NO usa corazones ni contador de vidas.
  - Ahora la mec√°nica es: el usuario env√≠a una respuesta; si falla, se revela autom√°ticamente una letra (aleatoria) del nombre oculto. Se contin√∫a hasta que el usuario adivine o hasta que no queden guiones bajos (`'_'`) en la palabra (es decir, todas las letras han sido reveladas).
  - Si el nombre del emoji tiene espacios (nombre compuesto), el c√≥digo internamente usa guion bajo `_` como separador: al mostrar/ocultar y al comparar, los espacios introducidos por el usuario se transforman en `_` autom√°ticamente. Esto facilita que el usuario no tenga que escribir `_` manualmente.
  - Pista visual que aparece cuando quedan pocas letras sin revelar: etiqueta `pista_label` con color de fondo `#D1FAE5` y texto `#065F46`.
  - Texto y botones con fuentes m√°s grandes para legibilidad (estudiantes principiantes).

- Comportamiento final:
  - El jugador no tiene un n√∫mero limitado de intentos.
  - Cada fallo revela una letra al azar.
  - Si el jugador acierta, se muestra √©xito; si todas las letras llegan a revelarse y el jugador no acert√≥, se muestra la respuesta correcta.

4) Nueva funci√≥n: cifrar_parcial_dialogo(dialogo: str, clave: dict)
- Prop√≥sito: mostrar un di√°logo en el que "no todas las letras est√©n cifradas" para que la pista sea legible.
- Algoritmo (inteligible para alumnado):
  - Para cada palabra:
    - Si la palabra tiene longitud <= 2, dejarla tal cual.
    - En caso contrario, dejar la primera y la √∫ltima letra sin cifrar.
    - Cifrar el resto (letras intermedias) car√°cter a car√°cter usando `clave.get(ch, ch)`.
  - Unir las palabras resultantes con espacios y devolver la cadena.
- Resultado: mezcla de letras y emojis en el di√°logo mostrado (m√°s f√°cil de leer que el cifrado total).

5) Otros ajustes menores y notas de implementaci√≥n
- Conserv√© las funciones auxiliares existentes (`normalize_text`, `formato_clave_legible`, `codificar`, `decodificar`, `generar_clave`) y las us√© donde correspond√≠a.
- La funci√≥n `pedir_respuesta` no recibi√≥ cambios funcionales importantes; la dej√© para usos anteriores del c√≥digo.
- Comentarios y docstrings a√±adidos y mejorados en las funciones modificadas para que el c√≥digo sea educativo.

Ejemplos concretos (antes / despu√©s):
- Antes (`jugar_pelicula_emoji`): la clave se mostraba con `messagebox.showinfo("Clave (pista)", formato_clave_legible(clave_actual))`.
- Despu√©s: dentro de la ventana de juego aparece un `ScrolledText` con la clave (solo lectura) para consultar sin interrumpir la interacci√≥n.

- Antes (`jugar_identifica_emoji`): el juego usaba vidas y mostraba corazones; el usuario deb√≠a escribir exactamente el nombre (incluyendo `_`).
- Despu√©s: el juego no usa vidas; al escribir espacios el c√≥digo los traduce a `_`; adem√°s, cada fallo revela una letra y hay una pista coloreada cuando se acerca el final.

Sugerencias / pr√≥ximos pasos (opcionales):
- Si quieres, puedo:
  - cambiar la regla de cifrado parcial para mostrar por ejemplo solo las vocales sin cifrar;
  - hacer que la caja de la clave sea plegable (mostrar/ocultar) en `jugar_pelicula_emoji`;
  - reemplazar los corazones emoji por im√°genes para un dise√±o m√°s consistente.

Registro de archivos tocados (l√≠neas aproximadas):
- `S12/Codigo.py` ‚Äî varias inserciones y modificaciones alrededor de las funciones:
  - `jugar_frase_emoji` (secci√≥n juegos, antes cerca de la definici√≥n original)
  - `jugar_pelicula_emoji` (secci√≥n juegos)
  - `cifrar_parcial_dialogo` (a√±adida despu√©s de `generar_pista`)
  - `jugar_identifica_emoji` (reemplazada por versi√≥n gr√°fica)
